@import 'tailwindcss';

/* shadcn / default */
:root {
  --radius: 0.65rem;
  --background: oklch(1 0 0);
  --foreground: oklch(0.145 0 0);
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.145 0 0);
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.145 0 0);
  --primary: oklch(0.205 0 0);
  --primary-foreground: oklch(0.985 0 0);
  --secondary: oklch(0.97 0 0);
  --secondary-foreground: oklch(0.205 0 0);
  --muted: oklch(0.97 0 0);
  --muted-foreground: oklch(0.556 0 0);
  --accent: oklch(0.97 0 0);
  --accent-foreground: oklch(0.205 0 0);
  --destructive: oklch(0.577 0.245 27.325);
  --border: oklch(0.922 0 0);
  --input: oklch(0.922 0 0);
  --ring: oklch(0.708 0 0);
  --chart-1: oklch(0.646 0.222 41.116);
  --chart-2: oklch(0.6 0.118 184.704);
  --chart-3: oklch(0.398 0.07 227.392);
  --chart-4: oklch(0.828 0.189 84.429);
  --chart-5: oklch(0.769 0.188 70.08);
  --radius: 0.625rem;
  --sidebar: oklch(0.985 0 0);
  --sidebar-foreground: oklch(0.145 0 0);
  --sidebar-primary: oklch(0.205 0 0);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.97 0 0);
  --sidebar-accent-foreground: oklch(0.205 0 0);
  --sidebar-border: oklch(0.922 0 0);
  --sidebar-ring: oklch(0.708 0 0);
}

.dark {
  --background: oklch(0.145 0 0);
  --foreground: oklch(0.985 0 0);
  --card: oklch(0.205 0 0);
  --card-foreground: oklch(0.985 0 0);
  --popover: oklch(0.205 0 0);
  --popover-foreground: oklch(0.985 0 0);
  --primary: oklch(0.922 0 0);
  --primary-foreground: oklch(0.205 0 0);
  --secondary: oklch(0.269 0 0);
  --secondary-foreground: oklch(0.885 0 0);
  --muted: oklch(0.269 0 0);
  --selected: oklch(0.45 0 0);
  --muted-foreground: oklch(0.708 0 0);
  --accent: oklch(0.55 0 0);
  --accent-foreground: oklch(0.985 0 0);
  --destructive: oklch(0.704 0.191 22.216);
  --border: oklch(1 0 0 / 10%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.556 0 0);
  --chart-1: oklch(0.488 0.243 264.376);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);
  --sidebar: oklch(0.205 0 0);
  --sidebar-foreground: oklch(0.985 0 0);
  --sidebar-primary: oklch(0.488 0.243 264.376);
  --sidebar-primary-foreground: oklch(0.985 0 0);
  --sidebar-accent: oklch(0.269 0 0);
  --sidebar-accent-foreground: oklch(0.985 0 0);
  --sidebar-border: oklch(1 0 0 / 10%);
  --sidebar-ring: oklch(0.556 0 0);
}

/* テーマ設定 */
@theme {
  /* フォントファミリー (font-family) */
  --font-family-sans: 'Noto Sans JP', 'Roboto', 'Helvetica Neue', 'Arial', sans-serif;
  --font-family-serif: 'Noto Serif JP', 'Times New Roman', 'Georgia', serif;

  /* カラーパレット - Shadcn/ui変数参照 */
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --color-card: var(--card);
  --color-secondary-foreground: var(--secondary-foreground);
  --color-muted: var(--muted);
  --color-selected: var(--selected);
  --color-muted-foreground: var(--muted-foreground);
  --color-accent: var(--accent);
  --color-border: var(--border);

  /* 五度圏専用カラー */
  --color-key-area-minor: rgba(255, 255, 255, 0.1);
  --color-key-area-major: rgba(255, 255, 255, 0.15);
  --color-key-area-signature: rgba(255, 255, 255, 0);
  --color-key-area-hover: rgba(255, 255, 255, 0.25);
  --color-key-area-selected: rgba(255, 255, 255, 0.5);
  /* 五度圏専用フォントサイズ (fontSize) */
  --text-key-minor: 0.8rem;
  --text-key-major: 1rem;
  --text-key-signature: 0.5rem;
  /* 五度圏専用フォントウェイト (fontWeight) */
  --font-weight-key-minor: 50;
  --font-weight-key-major: 80;
  --font-weight-key-signature: 50;

  /* ヘッダーレイアウト */
  --header-height-min: 3rem;
}

/* ベーススタイル */
@layer base {
  body {
    font-family: theme('font-family.sans');
    color: theme('colors.foreground');
    background-color: theme('colors.background');
    min-height: 100dvh;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    margin: 0;
    padding: 0;
  }
}

@layer utilities {
  /* Hub表示切り替え (Canvas component) */
  /* hub-containerクラスで、data-hub-typeが"circle-of-fifths"の時、その中の..hub-chromatic-circleを隠す */
  .hub-container[data-hub-type='circle-of-fifths'] .hub-chromatic-circle {
    display: none;
  }

  .hub-container[data-hub-type='chromatic-circle'] .hub-circle-of-fifths {
    display: none;
  }

  /* カスタムタッチハンドラー用スタイル */
  .custom-touch-handler-active {
    overscroll-behavior: contain;
    touch-action: pan-x pinch-zoom;
  }
}

/* ---------------------------------- */
/* 動的生成カラーシステム          */
/* ---------------------------------- */
/* 
  12音×7モードの色相システム（84色）は、
  layout.tsx でビルド時に動的生成されます。
  
  使用可能なクラス例:
  - bg-key-c-lydian     （C Lydian）
  - text-key-g-dorian   （G Dorian）  
  - bg-key-fsharp-locrian（F# Locrian）
  
  色相: 五度圏順に30°ずつ（C=0°, G=30°...）
  彩度: 85%固定
  明度: Lydian(70%) → Locrian(40%)の階層
*/
