# MobileTabLayout è¨­è¨ˆæ›¸

> **ä½œæˆæ—¥**: 2025-12-04  
> **æ›´æ–°æ—¥**: 2025-12-04  
> **ãƒãƒ¼ã‚¸ãƒ§ãƒ³**: 1.0.0  
> **ä½œæˆè€…**: Antigravity

[<< ç”»é¢è¨­è¨ˆæ›¸ã«æˆ»ã‚‹](../../../docs/screenDesigns/)

ãƒ¢ãƒã‚¤ãƒ«ç’°å¢ƒã«ãŠã‘ã‚‹ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆå¼ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã€‚Canvasï¼ˆäº”åº¦åœï¼‰ã‚’ä¸Šéƒ¨ã«å›ºå®šã—ã€ä¸‹éƒ¨ã®ã‚¿ãƒ–ã§Controllerã¨Informationãƒ‘ãƒãƒ«ã‚’åˆ‡ã‚Šæ›¿ãˆã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã‚’æä¾›ã—ã¾ã™ã€‚

## ğŸ“‹ ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£](#ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£)
- [æŠ€è¡“ä»•æ§˜](#æŠ€è¡“ä»•æ§˜)
- [ä½¿ç”¨æ–¹æ³•](#ä½¿ç”¨æ–¹æ³•)
- [æ©Ÿèƒ½è©³ç´°](#æ©Ÿèƒ½è©³ç´°)
- [è¨­è¨ˆæ€æƒ³](#è¨­è¨ˆæ€æƒ³)

## æ¦‚è¦

### ç›®çš„ãƒ»å½¹å‰²

MobileTabLayoutã¯ã€ãƒ¢ãƒã‚¤ãƒ«ç«¯æœ«ã®é™ã‚‰ã‚ŒãŸç”»é¢ã‚¹ãƒšãƒ¼ã‚¹ã‚’æœ‰åŠ¹æ´»ç”¨ã™ã‚‹ãŸã‚ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã™ã€‚å¾“æ¥ã®ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆæ–¹å¼ã‹ã‚‰ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆæ–¹å¼ã«ç§»è¡Œã™ã‚‹ã“ã¨ã§ã€Controllerï¼ˆæ“ä½œç›¤ï¼‰ã¨Informationï¼ˆæƒ…å ±è¡¨ç¤ºï¼‰ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ€§ã‚’å‘ä¸Šã•ã›ã€ã‹ã¤ãƒ¡ã‚¤ãƒ³ã®Canvasï¼ˆäº”åº¦åœï¼‰ã‚’å¸¸ã«å‚ç…§å¯èƒ½ãªçŠ¶æ…‹ã«ä¿ã¤ã“ã¨ã‚’ç›®çš„ã¨ã—ã¦ã„ã¾ã™ã€‚

### ä¸»è¦æ©Ÿèƒ½

- **ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ**: Controllerã¨Informationã®2ã¤ã®ãƒ‘ãƒãƒ«ã‚’ãƒ¯ãƒ³ã‚¿ãƒƒãƒ—ã§åˆ‡ã‚Šæ›¿ãˆ
- **Canvaså¸¸æ™‚è¡¨ç¤º**: ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«é€£å‹•ã«ã‚ˆã‚Šã€åˆæœŸè¡¨ç¤ºã§ã¯Canvasã‚’è¡¨ç¤ºã—ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é–²è¦§æ™‚ã¯è‡ªç„¶ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆ
- **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ**: ãƒ¢ãƒã‚¤ãƒ«ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆï¼ˆmdæœªæº€ï¼‰å°‚ç”¨ã®æœ€é©åŒ–ã•ã‚ŒãŸãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ
- **è¦–è¦šçš„ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: ç¾åœ¨ã®ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚¿ãƒ–ã®ãƒã‚¤ãƒ©ã‚¤ãƒˆè¡¨ç¤º

## ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆ

- **MobileTabLayout**: å®Ÿéš›ã®ãƒ‘ãƒãƒ«ï¼ˆCanvas, Controller, Informationï¼‰ã‚’æ³¨å…¥ã™ã‚‹ã‚³ãƒ³ãƒã‚¸ãƒƒãƒˆã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **MobileTabStructure**: ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆæ§‹é€ ã¨ã‚¿ãƒ–çŠ¶æ…‹ç®¡ç†ã‚’æ‹…å½“ã™ã‚‹ãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ
- **MobileTabBar**: ä¸‹éƒ¨ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒãƒ¼

### ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆæ§‹æˆå›³

```mermaid
graph TD
    A[MobileTabLayout] --> B[MobileTabStructure]
    B --> C[MobileTabBar]
    B --> D[Canvas Area]
    B --> E[Content Area]
    E --> F[Controller Panel]
    E --> G[Information Panel]
```

### ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼å›³

```mermaid
flowchart LR
    A[Parent] -->|Props| B[MobileTabLayout]
    B -->|Components| C[MobileTabStructure]
    C -->|activeTab State| C
    C -->|activeTab| D[MobileTabBar]
    D -->|onTabChange| C
    C -->|Display Logic| E[Visible Panel]
```

### ãƒ•ã‚¡ã‚¤ãƒ«æ§‹é€ 

```
src/components/layouts/MobileTabLayout/
â”œâ”€â”€ README.md                    # ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ index.ts                     # ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆç”¨ãƒ•ã‚¡ã‚¤ãƒ«
â””â”€â”€ components/
    â”œâ”€â”€ MobileTabLayout.tsx      # ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼ˆCompositionï¼‰
    â”œâ”€â”€ MobileTabStructure.tsx   # æ§‹é€ ãƒ»çŠ¶æ…‹ç®¡ç†
    â””â”€â”€ MobileTabBar.tsx         # ã‚¿ãƒ–ãƒãƒ¼UI
```

### ä¾å­˜é–¢ä¿‚

#### å†…éƒ¨ä¾å­˜

- `@/components/layouts/Canvas` - äº”åº¦åœè¡¨ç¤º
- `@/components/layouts/ThreeColumnLayout` - Controller/Informationãƒ‘ãƒãƒ«
- `@/shared/types` - å‹å®šç¾©
- `@/lib/utils` - cné–¢æ•°

#### å¤–éƒ¨ä¾å­˜

- `react` - UIãƒ©ã‚¤ãƒ–ãƒ©ãƒª
- `lucide-react` - ã‚¢ã‚¤ã‚³ãƒ³
- `tailwind-merge` - ã‚¯ãƒ©ã‚¹åçµåˆ

## æŠ€è¡“ä»•æ§˜

### Propsä»•æ§˜

#### MobileTabLayout

```typescript
interface MobileTabLayoutProps extends ClassNameProps {
  // è¿½åŠ ã®Propsãªã—ï¼ˆå†…éƒ¨ã§å„ãƒ‘ãƒãƒ«ã‚’åˆæˆï¼‰
}
```

#### MobileTabStructure

```typescript
interface MobileTabStructureProps extends ClassNameProps {
  /** ä¸Šéƒ¨ã«è¡¨ç¤ºã™ã‚‹Canvasã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
  canvas: React.ReactNode;
  /** Controllerã‚¿ãƒ–ã§è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
  controller: React.ReactNode;
  /** Informationã‚¿ãƒ–ã§è¡¨ç¤ºã™ã‚‹ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ */
  information: React.ReactNode;
}
```

### çŠ¶æ…‹ç®¡ç†

#### ãƒ­ãƒ¼ã‚«ãƒ«çŠ¶æ…‹

```typescript
// ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚¿ãƒ–ã®çŠ¶æ…‹ç®¡ç†
const [activeTab, setActiveTab] = useState<'controller' | 'information'>('controller');
```

## ä½¿ç”¨æ–¹æ³•

### åŸºæœ¬çš„ãªä½¿ç”¨

```tsx
import { MobileTabLayout } from '@/components/layouts/MobileTabLayout';

export default function Page() {
  return (
    <>
      {/* ãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ—ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */}
      <ThreeColumnLayout className="hidden md:flex ..." />

      {/* ãƒ¢ãƒã‚¤ãƒ«ç”¨ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */}
      <MobileTabLayout className="h-dvh md:hidden" />
    </>
  );
}
```

## æ©Ÿèƒ½è©³ç´°

### ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æŒ™å‹•

- **ã‚·ãƒ³ã‚°ãƒ«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚³ãƒ³ãƒ†ãƒŠ**: ãƒšãƒ¼ã‚¸å…¨ä½“ãŒ1ã¤ã®ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚³ãƒ³ãƒ†ãƒŠã¨ã—ã¦æ©Ÿèƒ½ã—ã¾ã™ã€‚
- **Canvasã®æŒ™å‹•**: ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’ä¸‹ã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã¨ã€Canvaséƒ¨åˆ†ã¯è‡ªç„¶ã«ä¸Šã«ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã‚¢ã‚¦ãƒˆã—ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„é ˜åŸŸãŒç”»é¢å…¨ä½“ã«åºƒãŒã‚Šã¾ã™ã€‚
- **ã‚¿ãƒ–ãƒãƒ¼ã®æŒ™å‹•**: ç”»é¢ä¸‹éƒ¨ã«å›ºå®šï¼ˆSticky/Fixedï¼‰ã•ã‚Œã€å¸¸ã«ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½ã§ã™ã€‚

### ã‚¿ãƒ–åˆ‡ã‚Šæ›¿ãˆ

- **Controllerã‚¿ãƒ–**: éŸ³æ¥½ç†è«–ã®æ“ä½œãƒ‘ãƒãƒ«ã‚’è¡¨ç¤ºã€‚
- **Informationã‚¿ãƒ–**: é¸æŠã•ã‚ŒãŸè¦ç´ ã®è©³ç´°æƒ…å ±ã‚’è¡¨ç¤ºã€‚
- **çŠ¶æ…‹ä¿æŒ**: ã‚¿ãƒ–ã‚’åˆ‡ã‚Šæ›¿ãˆã¦ã‚‚ã€å„ãƒ‘ãƒãƒ«ã®å†…éƒ¨çŠ¶æ…‹ï¼ˆå…¥åŠ›å€¤ãªã©ï¼‰ã¯ä¿æŒã•ã‚Œã¾ã™ï¼ˆDOMã®è¡¨ç¤º/éè¡¨ç¤ºåˆ‡ã‚Šæ›¿ãˆã®ã¿ï¼‰ã€‚

## è¨­è¨ˆæ€æƒ³

### 1. ã‚³ãƒ³ãƒã‚¸ã‚·ãƒ§ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ (Composition Pattern)

`MobileTabLayout`ï¼ˆå…·ä½“ï¼‰ã¨`MobileTabStructure`ï¼ˆæŠ½è±¡ï¼‰ã‚’åˆ†é›¢ã™ã‚‹ã“ã¨ã§ã€ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆã®æ§‹é€ ã¨ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã®ä¾å­˜é–¢ä¿‚ã‚’åˆ‡ã‚Šé›¢ã—ã¦ã„ã¾ã™ã€‚ã“ã‚Œã«ã‚ˆã‚Šã€å°†æ¥çš„ã«è¡¨ç¤ºå†…å®¹ãŒå¤‰ã‚ã£ã¦ã‚‚æ§‹é€ éƒ¨åˆ†ã¯å†åˆ©ç”¨å¯èƒ½ã§ã™ã€‚

### 2. è‡ªç„¶ãªã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ä½“é¨“

ä»¥å‰ã®ãƒœãƒˆãƒ ã‚·ãƒ¼ãƒˆã‚„åˆ†å‰²ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ–¹å¼ã§ã¯ã€ç”»é¢ã®ç‹­ã„ãƒ¢ãƒã‚¤ãƒ«ç«¯æœ«ã§ã€Œã©ã“ãŒã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã‹ã€ãŒåˆ†ã‹ã‚Šã«ãã„å•é¡ŒãŒã‚ã‚Šã¾ã—ãŸã€‚æœ¬ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã§ã¯ã€Webæ¨™æº–ã«è¿‘ã„ã€Œãƒšãƒ¼ã‚¸å…¨ä½“ãŒã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«ã™ã‚‹ã€æŒ™å‹•ã‚’æ¡ç”¨ã—ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒ¡ãƒ³ã‚¿ãƒ«ãƒ¢ãƒ‡ãƒ«ã«åˆã‚ã›ã¾ã—ãŸã€‚

### 3. ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã¨ãƒ¦ãƒ¼ã‚¶ãƒ“ãƒªãƒ†ã‚£

- ã‚¿ãƒ–ãƒãƒ¼ã‚’è¦ªæŒ‡ã®å±Šãã‚„ã™ã„ç”»é¢ä¸‹éƒ¨ã«é…ç½®ï¼ˆFittsã®æ³•å‰‡ï¼‰ã€‚
- ã‚¢ã‚¤ã‚³ãƒ³ã¨ãƒ©ãƒ™ãƒ«ã‚’ä½µè¨˜ã—ã€æ©Ÿèƒ½ã®è­˜åˆ¥æ€§ã‚’å‘ä¸Šã€‚
- é©åˆ‡ãªã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆæ¯”ã¨ã‚¿ãƒƒãƒ—é ˜åŸŸã®ç¢ºä¿ã€‚

## é–¢é€£ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [è¦ä»¶å®šç¾©æ›¸](../../../docs/00.project/0001.requirements.md)
- [ç”»é¢è¨­è¨ˆæ›¸](../../../docs/00.project/0002.screenDesign.md)
- [é–‹ç™ºè¦ç´„](../../../docs/20.development/2002.development-principles.md)

---

> ğŸ“ **Note**: ã“ã®è¨­è¨ˆæ›¸ã¯ [é–‹ç™ºè¦ç´„](../../../docs/20.development/2002.development-principles.md) ã«å¾“ã£ã¦ä½œæˆã•ã‚Œã¦ã„ã¾ã™ã€‚  
> ğŸ”„ **Update**: æ©Ÿèƒ½è¿½åŠ ãƒ»å¤‰æ›´æ™‚ã¯ã“ã®è¨­è¨ˆæ›¸ã‚‚åˆã‚ã›ã¦æ›´æ–°ã—ã¦ãã ã•ã„ã€‚  
> ğŸ¤ **Collaboration**: ä¸æ˜ãªç‚¹ãŒã‚ã‚Œã°é–‹ç™ºãƒãƒ¼ãƒ ã¾ã§ãŠå•ã„åˆã‚ã›ãã ã•ã„ã€‚
