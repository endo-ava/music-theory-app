# フロントエンド設計規約

## コンポーネント設計 (Next.js 15)

- **Server Componentをデフォルト**とする
- **Client Component (`'use client'`)はインタラクションの末端のみ**: useState, onClick等が必要な最小単位
- データはServer → Clientの一方向で渡す

## スタイリング (Tailwind CSS v4)

**`src/app/globals.css`を唯一の情報源とする**:

- `@theme` ブロック: デザイントークン（色、フォント、間隔）
- `@layer base` ブロック: グローバルスタイル（body, h1等）
- 各コンポーネント: `className`でTailwindユーティリティを記述

## className設計の責任分離

### 親（外部）の責任

- サイズ: `w-`, `h-`
- 配置: `m-`, `p-`, `justify-`, `items-`
- レスポンシブ: `sm:`, `md:`, `lg:`

### 子（内部）の責任

- 見た目: `color`, `border`, `background`
- 内部レイアウト: `flex`, `grid`（固定的なもの）

### 統一ルール

- 全コンポーネントで`twMerge`を使用し、外部からの`className`を安全にマージ
- 条件分岐が必要な場合のみ`clsx`を併用

## 構造と見た目の分離 (Structure vs Skin)

コンポーネントの再利用性と保守性を高めるため、**「配置（Layout）」** と **「見た目（Visual）」** の責務を明確に分離します。

### Layout Component (構造)

- **責務**: 子要素の配置、サイズ、間隔（Grid, Flex, Padding, Margin）
- **禁止事項**: 色、影、ボーダー、装飾的なスタイル
- **例**: `MobileTabStructure`, `ThreeColumnLayout`

### Visual Component (見た目)

- **責務**: 具体的なUIの装飾（Color, Shadow, Border, Radius）
- **推奨**: コンテンツそのもの（Leaf Component）が自身の見た目を管理する
- **例**: `Button`, `Card`, `Panel`

### 目的

- **再利用性**: 同じレイアウト構造を異なるデザイン（テーマ）で再利用可能にする
- **保守性**: 「配置が崩れた」ならLayout、「色が違う」ならVisualと、修正箇所を特定しやすくする
