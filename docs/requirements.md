# 音楽理論学習Webアプリケーション 要件定義書


## 1. アプリケーション概要（What）
 - 音楽理論の学習支援、知識の備忘録用Webアプリケーション
 - 理論に加え、視覚・聴覚の両方からの直感的な理解の支援をする

## 2. 背景・目的（Why）
- アプリケーション自体の背景・目的
  - 音楽理論の複雑な概念をアニメーションと音により直感的に理解したい
  - 一度学んだ理論を思い出すための備忘録としての役割
  - なぜこのアプリか
    - 動画: 視覚・聴覚的な直感的理解に優れているが、備忘録用として不向き
    - Webサイト: 詳しい理論の理解ができるが、アニメーションが足りないなど、直感的な理解に欠けるものが多い
    - -> 本アプリ: 視覚・聴覚的な直感的理解と備忘録的役割を果たすことが可能
- 個人の学習としての背景・目的
  - Cursor等を使ったAI駆動開発をしてみたい
  - Next.jsを中心としたモダンなフロントエンド技術を勉強したい
  - 開発に伴い音楽理論の勉強にもなる
  - マークダウンを使った簡単な設計書を作成し、システム開発上位工程のシミュレーションをしたい

## 3 想定ユーザー（Who）
- 基本的には、私(=開発者)のみ
- 公開した場合の想定ユースケース
  - 既に基礎レベルの音楽理論の知識がある人間が、備忘録用として使う
  - 音楽理論に興味のある人間が、本格的に学び始めるきっかけとして使う

## 4. 使用技術

### 4.1 フロントエンド技術スタック
| カテゴリ | 技術 | バージョン | 用途 |
|----------|------|------------|------|
| フレームワーク | Next.js | 14.x | アプリケーション基盤 |
| UIライブラリ | React | 18.x | UI構築 |
| 言語 | TypeScript | 5.x | 型安全な開発 |
| スタイリング | Tailwind CSS | 3.x | スタイリング |
| アニメーション | Framer Motion | 11.x | UIアニメーション |
| 音声処理 | Tone.js | 14.x | 音声再生 |
| 状態管理 | Zustand | 4.x | 状態管理 |

### 4.2 開発環境
| カテゴリ | ツール | 用途 |
|----------|--------|------|
| バージョン管理 | Git | ソースコード管理 |
| CI/CD | Vercel | デプロイメント |
| コード品質 | ESLint | コード品質管理 |
| コード整形 | Prettier | コードフォーマット |
| Git Hooks | Husky | コミット前チェック |

## 5 機能要件
#### 5.1 コア機能
1. **五度圏表示・操作機能**
   - 要件ID: F001
   - 優先度: 高
   - 詳細：
     - キーの円形表示
     - インタラクティブな選択機能
     - 選択キーに連動する表示更新

2. **コード表示・再生機能**
   - 要件ID: F002
   - 優先度: 高
   - 詳細：
     - ダイアトニックコードの表示
     - コードの音声再生
     - コード進行の視覚化

3. **スケール表示・再生機能**
   - 要件ID: F003
   - 優先度: 高
   - 詳細：
     - メジャー・マイナースケールの表示
     - スケールの音声再生
     - モードの切り替え表示

4. **音声再生機能**
   - 要件ID: F004
   - 優先度: 高
   - 詳細：
     - 単音再生
     - コード再生
     - スケール再生
     - 初期：Web Audio API（正弦波）
     - 将来：ピアノ・ギター音源

#### 5.2 拡張機能（将来実装）
1. **高度な音楽理論機能**
   - 要件ID: F101
   - 優先度: 中
   - 詳細：
     - モーダルインターチェンジ
     - 転調機能
     - コード進行の入力・分析

2. **音響分析機能**
   - 要件ID: F102
   - 優先度: 低
   - 詳細：
     - ピタゴラス音律の視覚化
     - 音高の比・周波数分析
     - 和声的・旋法的スケールの分析

## 6 非機能要件

#### 6.1 ユーザビリティ要件
  - 直感的な操作性
  - 視認性の高いUI・アニメーション
  - レスポンシブデザイン（PC優先、スマートフォン対応）

#### 6.2 パフォーマンス要件
  - ページロード時間：2秒以内
  - 音声再生の遅延：100ms以内
  - スムーズなアニメーション

#### 6.3 セキュリティ要件
  - 特になし


## 7. 制約条件
- 個人開発プロジェクト
- オフライン動作を考慮
- 将来的な公開を視野に入れた設計
- 自由な機能追加に耐えうる設計
- 高レベルなコード品質

## 8. 参考


---