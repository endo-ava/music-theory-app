# コンポーネント仕様: D. インフォメーションパネル (Information Panel)

[<< Hub画面設計トップに戻る](../0003.hub.md)

## 1. 役割

インフォメーションパネルは、Canvas上のインタラクションに応じて動的に情報を提示する、学習支援のための領域です。ユーザーが選択した「モノ」が何であるか、そして現在の音楽的な「文脈」がどうなっているかを詳しく説明し、学習の「全体」と「部分」をシームレスに繋ぎます。

PC版では画面右側のパネル、モバイル版ではCanvas下の常時表示エリアとして提供されます。

---

## 2. D-1: 選択要素情報エリア (Selected Element Info)

- **役割**: ユーザーがCanvas上で選択（ホバーまたはクリック）した要素の詳細情報を、現在のベースキーとの相対的な関係性で表示します。
- **表示タイミング**: ユーザーがCanvas上のキーやコードを**ホバー**または**クリック**した時。情報はアニメーションを伴ってスムーズに描画されます。
- **非表示タイミング**: Canvas上で何も選択されていない場合、またはマウスが要素から離れた場合（ホバー時）。

### 表示内容の詳細

| 項目                    | 内容                                                                                                                                            | 具体例                                                   |
| :---------------------- | :---------------------------------------------------------------------------------------------------------------------------------------------- | :------------------------------------------------------- |
| **要素名**              | 選択したキーやコードの名前を、ベースキーからの相対的なディグリーネームと共に表示します。                                                        | `Dm7 (ii7)`                                              |
| **詳細情報**            | **キー選択時**: 調号、スケール構成音、関連キー（平行調、同主調）など。<br>**コード選択時**: 構成音、機能（Tonic, Dominant等）、属するキーなど。 | `構成音: D, F, A, C`                                     |
| **音声再生ボタン (🔊)** | 選択された要素に対応するサウンド（単音または和音）を再生します。                                                                                | クリックで `Dm7` の和音を再生                            |
| **キーワードリンク**    | 解説が必要な専門用語をクリック可能にし、ライブラリ画面の該当項目へ遷移させます。                                                                | `平行調` をクリック → ライブラリの「平行調」ページへ遷移 |

---

## 3. D-2: 現在のキー情報エリア (Current Key Info)

- **役割**: 現在アプリケーションのコンテキストとして設定されている「ベースキー」の詳細情報を常時表示します。
- **表示のトリガーと更新**:
  - **初期表示**: アプリケーション起動時、デフォルトの「C Major」の情報を表示します。
  - **更新**: ユーザーがCanvas上でキーを**ロングプレス**し、ベースキーが変更されたタイミングで、このエリアの内容も即座に更新されます。

### 表示内容の詳細

| 項目                 | 内容                                                                       | 具体例 (ベースキー: C Major)                                            |
| :------------------- | :------------------------------------------------------------------------- | :---------------------------------------------------------------------- |
| **ベースキー表示**   | 現在設定されているベースキーの名前とモード。                               | `C Major`                                                               |
| **関連情報**         | スケール構成音、ダイアトニックコード一覧、関連調（平行調など）の基本情報。 | `スケール: C, D, E, F, G, A, B`<br>`ダイアトニックコード: C, Dm, Em...` |
| **キーワードリンク** | 専門用語はライブラリ画面の該当項目へのリンク。                             | `平行調` をクリック → ライブラリの「平行調」ページへ遷移                |
